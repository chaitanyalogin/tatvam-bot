:root {
  --bg: #0b0e12;
  --panel: #0f131a;
  --muted: #9aa4b2;
  --text: #e8eef7;
  --accent: #6ee7b7;
  --accent2: #7aa5ff;
  --chip: #141a23;
  --border: #1a2230;
}

* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; background: var(--bg); color: var(--text); font: 16px/1.45 system-ui, sans-serif; }

/* ---------- Topbar ---------- */
.topbar {
  position: sticky; top: 0; z-index: 10;
  display: flex; align-items: center; justify-content: space-between;
  gap: 1rem; padding: .8rem 1rem;
  border-bottom: 1px solid var(--border);
  background: rgba(11,14,18,.8); backdrop-filter: blur(8px);
}
.brand { display: flex; align-items: center; gap: .8rem; }
.logo {
  width: 56px; height: 56px; border-radius: 14px; object-fit: cover;
  background: linear-gradient(135deg,var(--accent2),var(--accent));
}
.titles h1 { margin: 0; font-size: 1.35rem; }
.titles p { margin: 0; font-size: .9rem; color: var(--muted); }
.actions { display: flex; gap: .5rem; }
.btn {
  text-decoration: none; font-weight: 600; border-radius: 10px;
  padding: .5rem .8rem; background: var(--accent); color: var(--bg);
}
.btn.outline { background: transparent; color: var(--text); border: 1px solid var(--border); }

/* ---------- Layout ---------- */
.wrap {
  display: grid; grid-template-columns: 280px 1fr;
  gap: 1rem; padding: 1rem; max-width: 1200px; margin: 0 auto;
}
.sidebar .card {
  background: var(--panel); border: 1px solid var(--border);
  border-radius: 16px; padding: 1rem; margin-bottom: 1rem;
}
.card h3 { margin: .2rem 0 1rem; }
.card.mini { padding: .8rem; }
.muted { color: var(--muted); }

.chips { display: flex; flex-wrap: wrap; gap: .5rem; }
.chip {
  padding: .4rem .7rem; border-radius: 999px; cursor: pointer;
  border: 1px solid var(--border); background: var(--chip); color: var(--text);
}
.chip:hover { border-color: var(--accent2); }

/* ---------- Chat ---------- */
.chat {
  height: 70vh; padding: 1rem; overflow: auto; scroll-behavior: smooth;
  background: var(--panel); border: 1px solid var(--border); border-radius: 16px;
}
.msg { display: flex; gap: .6rem; margin: .5rem 0; }
.bubble {
  max-width: min(78ch,90%); padding: .65rem .8rem;
  border-radius: 16px; border: 1px solid var(--border);
  white-space: pre-wrap;
}
.msg.user { justify-content: flex-end; }
.msg.user .bubble { background: #17202b; }
.msg.bot .bubble { background: #0e1721; }
.meta { font-size: .75rem; color: var(--muted); margin: .2rem 0 0 .2rem; }

/* ---------- Typing ---------- */
.msg.typing .bubble { display: flex; gap: .3rem; align-items: center; }
.dot {
  width: .35rem; height: .35rem; border-radius: 50%;
  background: #9fb3c8; opacity: .35; animation: blink 1.2s infinite;
}
.dot:nth-child(2) { animation-delay: .15s; }
.dot:nth-child(3) { animation-delay: .3s; }
@keyframes blink { 0%,60%,100%{opacity:.35} 30%{opacity:1} }

/* ---------- Composer ---------- */
.composer {
  position: sticky; bottom: 0;
  background: rgba(11,14,18,.8); backdrop-filter: blur(8px);
  border-top: 1px solid var(--border); padding: .6rem 1rem;
}
#form { display: flex; gap: .6rem; max-width: 1200px; margin: 0 auto; }
#input {
  flex: 1; padding: .8rem 1rem; border-radius: 12px;
  border: 1px solid var(--border); background: #0f141d; color: var(--text);
}
.send {
  padding: .8rem 1rem; border-radius: 12px; cursor: pointer;
  border: 1px solid var(--border); background: var(--chip); color: var(--text);
}
.send:hover { border-color: var(--accent); }

/* ---------- Responsive ---------- */
@media (max-width:900px) {
  .wrap { grid-template-columns: 1fr; }
  .sidebar { order: 2; }
  .chat { height: 62vh; }
}
